{% load static %}

<!-- Collapse button -->
<div class="sidebar-toggle">
    <button id="sidebarToggle" class="toggle-btn" aria-label="Toggle sidebar">
        <span class="toggle-icon">â˜°</span>
    </button>
</div>

<a class="brainscore-logo" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}">
    <img src="{% static "/benchmarks/img/b-w_logo.png" %}" alt="Brain-Score Logo">
</a>

{% url 'leaderboard' as leaderboard_url %}
<a class="{% if request.path == '/'|add:domain|add:'/' %}selected{% endif %}" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}/{{ domain }}/leaderboard">
    <img class="menu-icon" src="{% static "benchmarks/img/leaderboard_icon.png" %}" alt="Leaderboard Icon">
    <span>Leaderboard</span>
</a>

{% url 'explore' as explore_url %}
<a class="{% if request.path == '/'|add:domain|add:'/explore/' %}selected{% endif %}" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}/{{ domain }}/explore">
    <img class="menu-icon" src="{% static "benchmarks/img/total_benchmarks_icon.png" %}" alt="Explore Icon">
    <span>Explore</span>
</a>

{% url 'compare' as compare_url %}
<a class="{% if request.path == '/'|add:domain|add:'/compare/' %}selected{% endif %}" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}/{{ domain }}/compare">
    <img class="menu-icon" src="{% static "benchmarks/img/compare_icon.png" %}" alt="Compare Icon">
    <span>Compare</span>
</a>

<div class="dropdown">
    <a class="{% if 'tutorials' in request.path %}selected{% endif %}" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}/tutorials">
        <img class="menu-icon" src="{% static "/benchmarks/img/tutorial_icon.png" %}" alt="Tutorial Icon">
        <span>Tutorials</span>
    </a>
    <div class="dropdown-content">
        <div class="nested-dropdown">
            <a href="https://www.brain-score.org/tutorials/models">Models</a>
            <div class="nested-dropdown-content">
                <a href="https://www.brain-score.org/tutorials/models/quickstart">Quickstart</a>
                <a href="https://www.brain-score.org/tutorials/models/deepdive_1">Deep Dive 1</a>
                <a href="https://www.brain-score.org/tutorials/models/deepdive_2">Deep Dive 2</a>
                <a href="https://www.brain-score.org/tutorials/models/deepdive_3">Deep Dive 3</a>
            </div>
        </div>
        <div class="nested-dropdown">
            <a href="https://www.brain-score.org/tutorials/benchmarks">Benchmarks</a>
            <div class="nested-dropdown-content">
                <a href="https://www.brain-score.org/tutorials/benchmarks/package_data">Package Data</a>
                <a href="https://www.brain-score.org/tutorials/benchmarks/create_benchmark">Create Benchmark</a>
            </div>
        </div>
    </div>
</div>

{% url 'profile' as profile_url %}
<a class="{% if 'profile' in request.path %}selected{% endif %}" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}/profile/{{ domain }}">
    <img class="menu-icon" src="{% static "/benchmarks/img/profile_icon.png" %}" alt="Profile Icon">
    <span>Profile</span>
</a>

{% url 'community' as community_url %}
<a class="{% if request.path == community_url %}selected{% endif %}" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}/community">
    <img class="menu-icon" src="{% static "/benchmarks/img/community_icon.png" %}" alt="Community Icon">
    <span>Community</span>
</a>

{% url 'faq' as faq_url %}
<a class="{% if request.path == faq_url %}selected{% endif %}" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}/faq">
    <img class="menu-icon" src="{% static "/benchmarks/img/faq.png" %}" alt="FAQ Icon">
    <span>FAQ</span>
</a>

{% url 'comp2024' as comp2024_url %}
<a class="{% if request.path == comp2024_url %}selected{% endif %}" href="http{% if request.is_secure %}s{% endif %}://{{ request.get_host }}/competition2024">
    <img class="menu-icon" src="{% static "/benchmarks/img/competition.png" %}" alt="Comp 24Icon">
    <span>Competition 2024</span>
</a>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const dropdownContent = document.querySelector(".dropdown-content");
    dropdownContent.style.display = "block"; // Temporarily display to trigger layout
    dropdownContent.offsetHeight; // Trigger a reflow
    dropdownContent.style.display = ""; // Revert to original state
});
</script>

<!-- Include sidebar toggle functionality -->
<script src="{% static 'benchmarks/js/sidebar-toggle.js' %}"></script>
