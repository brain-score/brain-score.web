.left-sidebar
  position: fixed
  top: 0
  right: calc(100% - $sidebar_width)
  bottom: 0
  left: 0
  padding-right: 0
  background: $brainscore_gray4
  transition: right 0.3s ease
  z-index: 1000

  &.collapsed
    right: calc(100% - 80px)
    
    .sidebar-toggle .toggle-icon
      transform: rotate(180deg)
    
    a span
      display: none
    
    a
      padding-left: 22px
      justify-content: center
      
      &.brainscore-logo
        img
          width: 50px
          
      img.menu-icon
        margin-right: 0
        
    .dropdown
      width: 80px
      
      .dropdown-content
        transform: translateX(80px)
        // Invisible bridge to make dropdown easier to click when collapsed
        &::before
          content: ''
          position: absolute
          left: -80px
          top: 0
          width: 80px
          height: 100%
          min-height: 50px
          background: transparent
          pointer-events: auto
          z-index: 1002

  a
    display: block
    padding-left: 20px
    line-height: 50px
    font-size: 16px
    text-decoration: none
    color: white

    &.brainscore-logo
      display: flex
      justify-content: center
      margin: 30px 0
      padding: 0

      img
        width: 90px
        transition: width 0.3s ease

    img
      display: inline-block
      vertical-align: middle
      margin-right: 10px
      transition: all 0.3s ease

      &.menu-icon
        width: 35px

    &.selected
      border-right: 8px solid $brainscore_green
      
    span
      transition: opacity 0.3s ease

  // Auto-collapse sidebar on narrow screens instead of hiding completely
  @media (max-width: 1024px)
    right: calc(100% - 80px)
    
    .sidebar-toggle .toggle-icon
      transform: rotate(180deg)
    
    a span
      display: none
    
    a
      padding-left: 22px
      justify-content: center
      
      &.brainscore-logo
        img
          width: 50px
          
      img.menu-icon
        margin-right: 0
        
    .dropdown
      width: 80px
      
      .dropdown-content
        transform: translateX(80px)
        // Invisible bridge to make dropdown easier to click when collapsed
        &::before
          content: ''
          position: absolute
          left: -80px
          top: 0
          width: 80px
          height: 100%
          min-height: 50px
          background: transparent
          pointer-events: auto
          z-index: 1002

// Sidebar toggle button
.sidebar-toggle
  position: relative
  padding: 10px 0
  text-align: center
  border-bottom: 1px solid $brainscore_gray3

  .toggle-btn
    background: none
    border: none
    color: white
    font-size: 18px
    cursor: pointer
    padding: 8px 12px
    border-radius: 4px
    transition: background-color 0.3s ease

    &:hover
      background-color: rgba(255, 255, 255, 0.1)

    .toggle-icon
      display: inline-block
      transition: transform 0.3s ease

// Dropdown container
.dropdown
  position: relative
  display: inline-block
  width: 300px

// Dropdown content hidden by default
.left-sidebar .dropdown-content
  display: none
  position: absolute
  background-color: white
  min-width: 160px
  box-shadow: 0px 8px 16px rgba(0,0,0,0.2)
  z-index: 1001
  transform: translateX(67px)

// Dropdown links styling
.left-sidebar .dropdown-content a
  color: black
  padding: 12px 16px
  text-decoration: none
  display: block

.left-sidebar .dropdown:hover > .dropdown-content,
.left-sidebar .dropdown-content:hover
  display: block

// Change color on hover
.left-sidebar .dropdown-content a:hover
  background-color: #ddd

// Nested dropdown
.nested-dropdown
  position: relative

// Nested dropdown content hidden by default
.left-sidebar .nested-dropdown-content
  display: none
  position: absolute
  left: 160px
  top: 0
  background-color: white
  min-width: 180px
  width: max-content
  box-shadow: 0px 8px 16px rgba(0,0,0,0.2)
  z-index: 1001

.left-sidebar .nested-dropdown-content a
  font-size: 0.9em
  white-space: nowrap

// Show nested dropdown on hover
.left-sidebar .nested-dropdown:hover .nested-dropdown-content
  display: block

// Report Issue text
// Button has conflicts with _button sass styling
#reportIssueText
  position: absolute
  bottom: 20px
  left: 20px
  color: #ccc
  font-size: 14px
  cursor: pointer
  
  i
    display: none
    
  span
    display: inline

// Collapsed state
.left-sidebar.collapsed #reportIssueText
  left: 30px
  
  span
    display: none
    
  i
    display: inline

@media (max-width: 1024px)
  #reportIssueText
    left: 30px
    
    span
      display: none
      
    i
      display: inline
